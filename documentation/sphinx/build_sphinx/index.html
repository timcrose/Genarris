
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="Python">
  <head>
    <meta charset="utf-8" />
    <title>Genarris 2.0 Beta Documentation &#8212; Genarris 2.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="genarris-2-0-beta-documentation">
<h1>Genarris 2.0 Beta Documentation<a class="headerlink" href="#genarris-2-0-beta-documentation" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="how-to-use-api-documentation">
<h2>How to use API Documentation<a class="headerlink" href="#how-to-use-api-documentation" title="Permalink to this headline">¶</a></h2>
<p>The execution of Genarris is controlled by a <a class="reference external" href="https://docs.python.org/3.4/library/configparser.html">configuration</a> file. The configuration
file specifies the execution of Genarris which is broken down into procedures,
such as <code class="docutils literal notranslate"><span class="pre">Pygenarris_Structure_Generation</span></code>. Each procedure has a corresponding
section in the configuration file, for our example <code class="docutils literal notranslate"><span class="pre">pygenarris_structure_generation</span></code>.
The section contains options which control the operations performed by each
procedure.</p>
<p>This document details the options for procedures that are executed in the Genarris 2.0
<em>Robust</em> workflow. In order these are, <code class="docutils literal notranslate"><span class="pre">Relax_Single_Molecule,</span> <span class="pre">Estimate_Unit_Cell_Volume,</span>
<span class="pre">Pygenarris_Structure_Generation,</span> <span class="pre">Run_Rdf_Calc,</span> <span class="pre">Affinity_Propagation_Fixed_Clusters,</span>
<span class="pre">FHI_Aims_Energy_Evaluation,</span> <span class="pre">Affinity_Propagation_Fixed_Clusters,</span> <span class="pre">Run_FHI_Aims_Batch</span></code>.
There are many options that can be specified and modified for each section.
All of these options are specified in this document under the
<strong>Configuration File Options</strong> section of each procedure.</p>
<p>There are three categories of <strong>Configuration File Options</strong>. These are <em>required</em>,
<em>optional</em>, and <em>inferred</em>. In the <strong>Configuration File Options</strong>, these categories
are specified after the <em>type</em> of the option, such as <em>int</em>, <em>float</em>, or <em>bool</em>.
<em>Required</em> options have no category placed after the type. Both <em>optional</em> and
<em>inferred</em> are specified after the type. <em>Optional</em> arguments are those that
have default settings that in general perform well. The user may specify these
<em>optional</em> arguments to have more control over the program executing.
<em>Inferred</em> options are those that may be present in multiple different procedures.
For example, the option <code class="docutils literal notranslate"><span class="pre">aims_lib_dir</span></code> is needed in the <code class="docutils literal notranslate"><span class="pre">Relax_Single_Molecule</span></code>,
<code class="docutils literal notranslate"><span class="pre">FHI_Aims_Energy_Evaluation</span></code>, and <code class="docutils literal notranslate"><span class="pre">Run_FHI_Aims_Batch</span></code>. But, because it is
an inferred parameter, it only needs to be specified once in the earliest procedure
in which occurs and then it will be inferred by all further procedures. Options which
are inferred are thus optional in all proceeding sections.</p>
</div>
<div class="section" id="genarris-2-0-procedures-for-robust-workflow">
<h2>Genarris 2.0 Procedures for Robust Workflow<a class="headerlink" href="#genarris-2-0-procedures-for-robust-workflow" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="Genarris.genarris_master.Genarris">
<em class="property">class </em><code class="sig-prename descclassname">Genarris.genarris_master.</code><code class="sig-name descname">Genarris</code><span class="sig-paren">(</span><em class="sig-param">inst_path</em><span class="sig-paren">)</span><a class="headerlink" href="#Genarris.genarris_master.Genarris" title="Permalink to this definition">¶</a></dt>
<dd><p>Master class of Genarris. It controls all aspects of the
Genarris workflow which can be executed individually or sequantially.
Begins by reading and intepreting the configuration file.
Calls the defined procedures with the options specified in the
configuration file. Some options may be inferred from previous sections
if they are not present in every section.</p>
<dl class="simple">
<dt>Arguments</dt><dd><dl class="simple">
<dt>inst_path: str</dt><dd><p>Path to the configuration file.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="Genarris.genarris_master.Genarris.Affinity_Propagation_Fixed_Clusters">
<code class="sig-name descname">Affinity_Propagation_Fixed_Clusters</code><span class="sig-paren">(</span><em class="sig-param">comm</em><span class="sig-paren">)</span><a class="headerlink" href="#Genarris.genarris_master.Genarris.Affinity_Propagation_Fixed_Clusters" title="Permalink to this definition">¶</a></dt>
<dd><p>AP that explores the setting of preference in order to generate
desired number of clusters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>comm</strong> (<em>mpi4py.MPI object</em>) -- MPI communicator.</p>
</dd>
</dl>
<p class="rubric">Configuration File Options</p>
<dl class="simple">
<dt>output_dir<span class="classifier">str</span></dt><dd><p>Path to the directory where the chosen structures will be stored.</p>
</dd>
<dt>preference_range<span class="classifier">list</span></dt><dd><p>List of two values as the [min, max] of the range of allowable
preference values.</p>
</dd>
<dt>structure_dir<span class="classifier">str, inffered</span></dt><dd><p>Path to the directory of files to be used for the calculation.
Default is to infer this value from the previous section.</p>
</dd>
<dt>dist_mat_input_file<span class="classifier">str, inferred</span></dt><dd><p>Path to the distance matrix output from the descriptor calculation.
Default is to infer this value from the previous sections.</p>
</dd>
<dt>output_format<span class="classifier">str, optional</span></dt><dd><p>Format the structure files should be saved as. Default is both.</p>
</dd>
<dt>cluster_on_energy<span class="classifier">bool, optional</span></dt><dd><p>Uses energy values to determine examplars. Structures with the
lowest energy values from each cluster are selected.
Default is False.</p>
</dd>
<dt>plot_histograms<span class="classifier">bool, optional</span></dt><dd><p>If histogram plots should be created of the volume and space
groups. Default is False.</p>
</dd>
<dt>num_of_clusters<span class="classifier">int or float, optional</span></dt><dd><p>Float, must be less than 0. Selects a fraction of the structures.
Int, selects specific number of structures equal to int.
Default is 0.1.</p>
</dd>
<dt>num_of_clusters_tolerance<span class="classifier">int, optional</span></dt><dd><p>Algorithm will stop if it has generated the number of clusters
within the number of desired clusters and this tolerance.
Default is 0.</p>
</dd>
<dt>max_sampled_preferences<span class="classifier">int, optional</span></dt><dd><p>Maximum number of preference values to try.</p>
</dd>
<dt>output_without_success<span class="classifier">bool, optional</span></dt><dd><p>Whether to perform output procedures if the algorithm has reached
the maximum number of sampled preferences without finding the
correct number of clusters. Default is False.</p>
</dd>
<dt>affinity_type<span class="classifier">list, optional</span></dt><dd><p>List of [type of afinity, value] argument Scikit-Learn AP alogrithm.</p>
</dd>
<dt>affinity_matrix_path<span class="classifier">str, optional</span></dt><dd><p>Path to the affinity matrix to use for the AP algorithm.
Default is &quot;affinity_matrix.dat&quot;.</p>
</dd>
<dt>damping<span class="classifier">float, optional</span></dt><dd><p>damping argument for Scikit-Learn AP algorithm. Default is 0.5.</p>
</dd>
<dt>convergence_iter<span class="classifier">int, optional</span></dt><dd><p>convergence_iter argument for Scikit-Learn AP algorithm.
Default is 15.</p>
</dd>
<dt>max_iter<span class="classifier">int, optional</span></dt><dd><p>max_iter argument for Scikit-Learn AP algorithm. Default is 1000.</p>
</dd>
<dt>preference<span class="classifier">int, optional</span></dt><dd><p>preference argument for Scikit-Learn AP algorithm. Default is None.</p>
</dd>
<dt>verbose_output<span class="classifier">bool, optional</span></dt><dd><p>verbose argument for Scikit-Learn AP algorithm. Default is False.</p>
</dd>
<dt>property_key<span class="classifier">str, optional</span></dt><dd><p>Key which the AP cluster will be stored in the properties of
each structure object. Default is AP_cluster.</p>
</dd>
<dt>output_file<span class="classifier">str, optional</span></dt><dd><p>Path where info about the AP alogrithm execution will be stored.
Default is &quot;./AP_cluster.info&quot;.</p>
</dd>
<dt>exemplars_output_dir<span class="classifier">str, optional</span></dt><dd><p>If provided, will output the examplars of each cluster to this
folder. Default is None.</p>
</dd>
<dt>exemplars_output_format<span class="classifier">str, optional</span></dt><dd><p>File format of structures to be output. Default is both.</p>
</dd>
<dt>structure_suffix<span class="classifier">str, optional</span></dt><dd><p>Suffix to apply to structure files which are written.
Default is &quot;.json&quot;.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Genarris.genarris_master.Genarris.Estimate_Unit_Cell_Volume">
<code class="sig-name descname">Estimate_Unit_Cell_Volume</code><span class="sig-paren">(</span><em class="sig-param">comm</em><span class="sig-paren">)</span><a class="headerlink" href="#Genarris.genarris_master.Genarris.Estimate_Unit_Cell_Volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs volume estimation using a machine learned model train on the
CSD and based on Monte Carlo volume integration and topological
molecular fragments. See Genarris 2.0 paper for full description.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>comm</strong> (<em>mpi4py.MPI object</em>) -- MPI communicator.</p>
</dd>
</dl>
<p class="rubric">Configuration File Options</p>
<dl class="simple">
<dt>volume_mean<span class="classifier">float, optional</span></dt><dd><p>If provided, uses this value as the volume generation mean without
using the ML model to etimate the volume.</p>
</dd>
<dt>volume_std<span class="classifier">float, optional</span></dt><dd><p>If provided, uses this value for structure generation, otherwise
a default value of 0.075 is provided.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>None</strong> (<em>None</em>) -- Returns an object of type None.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Genarris.genarris_master.Genarris.FHI_Aims_Energy_Evaluation">
<code class="sig-name descname">FHI_Aims_Energy_Evaluation</code><span class="sig-paren">(</span><em class="sig-param">comm</em>, <em class="sig-param">world_comm</em>, <em class="sig-param">MPI_ANY_SOURCE</em>, <em class="sig-param">num_replicas</em><span class="sig-paren">)</span><a class="headerlink" href="#Genarris.genarris_master.Genarris.FHI_Aims_Energy_Evaluation" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs Self-Consistent Field calculation on a pool of structures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>See :meth:`Run_FHI_Aims_Batch`</strong></p>
</dd>
</dl>
<p class="rubric">Configuration File Options</p>
<p>See <a class="reference internal" href="#Genarris.genarris_master.Genarris.Run_FHI_Aims_Batch" title="Genarris.genarris_master.Genarris.Run_FHI_Aims_Batch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Run_FHI_Aims_Batch()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>None</strong> (<em>None</em>)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Genarris.genarris_master.Genarris.Pygenarris_Structure_Generation">
<code class="sig-name descname">Pygenarris_Structure_Generation</code><span class="sig-paren">(</span><em class="sig-param">comm</em><span class="sig-paren">)</span><a class="headerlink" href="#Genarris.genarris_master.Genarris.Pygenarris_Structure_Generation" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses the Genarris module written in C to perform structure generation.
This module enables generation on special positions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>comm</strong> (<em>mpi4py.MPI object</em>) -- MPI communicator.</p>
</dd>
</dl>
<p class="rubric">Configuration File Options</p>
<dl class="simple">
<dt>molecule_path<span class="classifier">str</span></dt><dd><p>Path to the relaxed molecule geometry.</p>
</dd>
<dt>output_format<span class="classifier">str,</span></dt><dd><p>Determines the type of file which will be output for each
structure. Can be one of: json, geo, both.</p>
</dd>
<dt>output_dir<span class="classifier">str</span></dt><dd><p>Path to the directory which will contain all generated structures
which pass the intermolecular distance checks.</p>
</dd>
<dt>num_structures<span class="classifier">int</span></dt><dd><p>Target number of structures to generate.</p>
</dd>
<dt>Z<span class="classifier">int</span></dt><dd><p>Number of molecules per cell to generate.</p>
</dd>
<dt>volume_mean<span class="classifier">float, optional</span></dt><dd><p>See <a class="reference internal" href="#Genarris.genarris_master.Genarris.Estimate_Unit_Cell_Volume" title="Genarris.genarris_master.Genarris.Estimate_Unit_Cell_Volume"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Estimate_Unit_Cell_Volume()</span></code></a></p>
</dd>
<dt>volume_std<span class="classifier">float, optional</span></dt><dd><p>See <a class="reference internal" href="#Genarris.genarris_master.Genarris.Estimate_Unit_Cell_Volume" title="Genarris.genarris_master.Genarris.Estimate_Unit_Cell_Volume"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Estimate_Unit_Cell_Volume()</span></code></a></p>
</dd>
<dt>sr<span class="classifier">float, optional</span></dt><dd><p>Defines the minimum intermolecular distance that is considered
physical by multiplying the sum of the van der Waals radii of the
interacting atoms by sr. Default value is 0.85.</p>
</dd>
<dt>tol<span class="classifier">float, optional</span></dt><dd><p>Tolerance to be used to identify space groups compatible with the
input molecule.</p>
</dd>
<dt>max_attempts_per_spg_per_rank<span class="classifier">int</span></dt><dd><p>Defines the maximum number of attempts the structure generator
makes before moving on to the next space group.</p>
</dd>
<dt>num_structures_per_allowed_SG_per_rank<span class="classifier">int</span></dt><dd><p>Number of structures per space group per rank which will be
generated by Pygenarris.</p>
</dd>
<dt>geometry_out_filename<span class="classifier">str</span></dt><dd><p>Filename where all structures generated by Pygenarris will be found.</p>
</dd>
<dt>omp_num_threads<span class="classifier">int</span></dt><dd><p>Number of OpenMP threads to pass into Pygenarris</p>
</dd>
<dt>truncate_to_num_structures<span class="classifier">bool</span></dt><dd><p>If true, will reduce pool to exactly the number defined by
num_structures.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Genarris.genarris_master.Genarris.Relax_Single_Molecule">
<code class="sig-name descname">Relax_Single_Molecule</code><span class="sig-paren">(</span><em class="sig-param">comm</em>, <em class="sig-param">world_comm</em>, <em class="sig-param">MPI_ANY_SOURCE</em>, <em class="sig-param">num_replicas</em><span class="sig-paren">)</span><a class="headerlink" href="#Genarris.genarris_master.Genarris.Relax_Single_Molecule" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls run_fhi_aims_batch using the provided single molecule path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>for_parameters</strong> -- See <a class="reference internal" href="#Genarris.genarris_master.Genarris.Run_FHI_Aims_Batch" title="Genarris.genarris_master.Genarris.Run_FHI_Aims_Batch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Run_FHI_Aims_Batch()</span></code></a></p>
</dd>
</dl>
<p class="rubric">Configuration File Options</p>
<p>See <a class="reference internal" href="#Genarris.genarris_master.Genarris.Run_FHI_Aims_Batch" title="Genarris.genarris_master.Genarris.Run_FHI_Aims_Batch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Run_FHI_Aims_Batch()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>None</strong> (<em>None</em>) -- Returns an object of type None.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Genarris.genarris_master.Genarris.Run_FHI_Aims_Batch">
<code class="sig-name descname">Run_FHI_Aims_Batch</code><span class="sig-paren">(</span><em class="sig-param">comm</em>, <em class="sig-param">world_comm</em>, <em class="sig-param">MPI_ANY_SOURCE</em>, <em class="sig-param">num_replicas</em><span class="sig-paren">)</span><a class="headerlink" href="#Genarris.genarris_master.Genarris.Run_FHI_Aims_Batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs FHI-aims calculations on a pool of structures using num_replicas.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>comm</strong> (<em>mpi4py.MPI object</em>) -- MPI communicator to pass into aims</p></li>
<li><p><strong>world_comm</strong> (<em>mpi4py.MPI object</em>) -- World MPI communicator</p></li>
<li><p><strong>MPI_ANY_SOURCE</strong> (<em>mpi4py.MPI.ANY_SOURCE</em>) -- MPI ANY_SOURCE object to facilitate communication.</p></li>
<li><p><strong>num_replicas</strong> (<em>int</em>) -- Number of replicas to use in calculation.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Configuration File Options</p>
<dl class="simple">
<dt>verbose<span class="classifier">bool</span></dt><dd><p>Controls verbosity of output.</p>
</dd>
<dt>energy_name<span class="classifier">str</span></dt><dd><p>Property name which the calculated energy will be stored with in the
Structure file.</p>
</dd>
<dt>output_dir<span class="classifier">str</span></dt><dd><p>Path to the directory where the output structure file will be saved.</p>
</dd>
<dt>aims_output_dir<span class="classifier">str</span></dt><dd><p>Path where the aims calculation will take place.</p>
</dd>
<dt>aims_lib_dir<span class="classifier">str</span></dt><dd><p>Path to the location of the directory containing the FHI-aims library
file.</p>
</dd>
<dt>molecule_path<span class="classifier">str</span></dt><dd><p>Path to the geometry.in file of the molecule to be calculated if
called using harris_single_molecule_prep or relax_single_molecule.</p>
</dd>
<dt>structure_dir<span class="classifier">str</span></dt><dd><p>Path to the directory of structures to be calculated if calculation
was called not using harris_single_molecule_prep or
relax_single_molecule.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>None</strong> (<em>None</em>)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Genarris.genarris_master.Genarris.Run_Rdf_Calc">
<code class="sig-name descname">Run_Rdf_Calc</code><span class="sig-paren">(</span><em class="sig-param">comm</em><span class="sig-paren">)</span><a class="headerlink" href="#Genarris.genarris_master.Genarris.Run_Rdf_Calc" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs RDF calculation for the pool of generated structures. RDF
descriptor is similar to that described in Behler and Parrinello 2007.
Then calculates the structure difference matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>comm</strong> (<em>mpi4py.MPI object</em>) -- MPI communicator.</p>
</dd>
</dl>
<p class="rubric">Configuration File Options</p>
<dl class="simple">
<dt>dist_mat_fpath<span class="classifier">str</span></dt><dd><p>Path to file to write distance matrix to.</p>
</dd>
<dt>output_dir<span class="classifier">str</span></dt><dd><p>Path of directory to write structures to (will create if it DNE).
If 'no_new_output_dir' then input structures will be overwritten.</p>
</dd>
<dt>normalize_rdf_vectors: bool,optional</dt><dd><p>Whether to normalize the rdf vectors over the columns of the
feature matrix before using them to compute the distance matrix.
Default is Falase.</p>
</dd>
<dt>standardize_distance_matrix: bool</dt><dd><p>If True, standardizes the distance matrix. The method is to divide
all elements by the max value in the distance matrix.
Because it is a distance matrix and thus all elements are positive,
the standardized elements will be in the range [0, 1].
Default is False.</p>
</dd>
<dt>save_envs: bool, optional</dt><dd><p>Whether to save the environment vectors calculated by the RDF
method in the output structure files. Default is False.</p>
</dd>
<dt>cutoff<span class="classifier">float, optional</span></dt><dd><p>Cutoff radius to apply to the atom centered symmetry function.
Default is 12.</p>
</dd>
<dt>n_D_inter<span class="classifier">int, optional</span></dt><dd><p>Number of dimensions to use for each type of pair-wise
interatomic interaction found in the structure. Default is 12.</p>
</dd>
<dt>init_scheme<span class="classifier">str, optional</span></dt><dd><p>Can be centered or shifted, as described in Gastegger et al. 2018.
Default is shifted.</p>
</dd>
<dt>eta_range<span class="classifier">list, optional</span></dt><dd><p>List of two floats which define the range for eta parameter in
Gastegger et al. 2018. Default is [0.05,0.5].</p>
</dd>
<dt>Rs_range<span class="classifier">list, optional</span></dt><dd><p>List of two floats which define the range for Rs parameter in
Gastegger et al. 2018. Default is [[0.1,12].</p>
</dd>
<dt>pdist_distance_type<span class="classifier">str,optional</span></dt><dd><p>Input parameter for the pdist function. Default is Euclidean.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>None</strong> (<em>None</em>)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="genarris-2-0-functions">
<h2>Genarris 2.0 Functions<a class="headerlink" href="#genarris-2-0-functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="Genarris.evaluation.run_fhi_aims.run_fhi_aims_batch">
<code class="sig-prename descclassname">Genarris.evaluation.run_fhi_aims.</code><code class="sig-name descname">run_fhi_aims_batch</code><span class="sig-paren">(</span><em class="sig-param">comm</em>, <em class="sig-param">world_comm</em>, <em class="sig-param">MPI_ANY_SOURCE</em>, <em class="sig-param">num_replicas</em>, <em class="sig-param">inst=None</em>, <em class="sig-param">sname=None</em>, <em class="sig-param">structure_dir=None</em>, <em class="sig-param">aims_output_dir=None</em>, <em class="sig-param">output_dir=None</em>, <em class="sig-param">aims_lib_dir=None</em>, <em class="sig-param">control_path=None</em>, <em class="sig-param">energy_name='energy'</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Genarris.evaluation.run_fhi_aims.run_fhi_aims_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs multiple FHI calculations</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>comm</strong> (<em>mpi4py.MPI object</em>) -- MPI communicator to pass into aims</p></li>
<li><p><strong>world_comm</strong> (<em>mpi4py.MPI object</em>) -- World MPI communicator</p></li>
<li><p><strong>MPI_ANY_SOURCE</strong> (<em>mpi4py.MPI.ANY_SOURCE</em>) -- Any source object for communication.</p></li>
<li><p><strong>num_replicas</strong> (<em>int</em>) -- Number of replicas to perform calculation.</p></li>
<li><p><strong>inst</strong> (<em>genarris.core.instruct.Instruct</em>) -- Config Parser object which contains all the configuration file sections
and options for calculation.</p></li>
<li><p><strong>sname</strong> (<em>str</em>) -- Section name which called run_fhi_aims_batch</p></li>
<li><p><strong>struct_dir</strong> (<em>str</em>) -- Path to directory of structures to perform calculation.</p></li>
<li><p><strong>aims_output_dir</strong> (<em>str</em>) -- Path to the directory where FHI-aims calculations should take place.</p></li>
<li><p><strong>output_dir</strong> (<em>str</em>) -- Path to the directory where the Structure files should be saved.</p></li>
<li><p><strong>aims_lib_dir</strong> (<em>str</em>) -- Path to the directory containing the FHI-aims library file.</p></li>
<li><p><strong>control_path</strong> (<em>str</em>) -- Path to the directory containing the control file to use.</p></li>
<li><p><strong>energy_name</strong> (<em>str</em>) -- Property name which the calculated energy will be stored with in the
Structure file.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) -- Controls verbosity of output.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Configuration File Options</p>
<dl class="simple">
<dt>verbose<span class="classifier">bool</span></dt><dd><p>Controls verbosity of output.</p>
</dd>
<dt>energy_name<span class="classifier">str</span></dt><dd><p>Property name which the calculated energy will be stored with in the
Structure file.</p>
</dd>
<dt>output_dir<span class="classifier">str</span></dt><dd><p>Path to the directory where the output structure file will be saved.</p>
</dd>
<dt>aims_output_dir<span class="classifier">str</span></dt><dd><p>Path where the aims calculation will take place.</p>
</dd>
<dt>aims_lib_dir<span class="classifier">str</span></dt><dd><p>Path to the location of the directory containing the FHI-aims library
file.</p>
</dd>
<dt>molecule_path<span class="classifier">str</span></dt><dd><p>Path to the geometry.in file of the molecule to be calculated if
called using harris_single_molecule_prep or relax_single_molecule.</p>
</dd>
<dt>structure_dir<span class="classifier">str</span></dt><dd><p>Path to the directory of structures to be calculated if calculation
was called not using harris_single_molecule_prep or
relax_single_molecule.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>None</strong> (<em>None</em>)</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">Genarris</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>