[Genarris_master]
procedures = ["Relax_Single_Molecule", "Structure_Generation_Batch_Vol_Estimate", "Relax_Batch_Vol_Estimate", "Structure_Generation_Batch", "Harris_Single_Molecule_Prep", "Harris_Approximation_Batch", "RCD_Vector_Calculation", "RCD_Difference_Folder_Inner", "Affinity_Propagation_Distance_Matrix"]
master_log_path = ./Genarris.log
master_err_path = ./Genarris.err
info_level = 2

[relax_single_molecule]
molecule_path = str
control_path = /home/trose/genarris_test/genarris/files/controls/relax_single_control.in
aims_bin_path = /home/trose/aims/fhi-aims.160328_3/bin/aims.160328_3.scalapack.mpi.x
output_dir = str

[structure_generation_vol_estimate]
unit_cell_volume = 300 # lower bound
unit_cell_volume_std = 141
unit_cell_volume_upper_bound = 1200
chiral_or_racemic = 1
wyckoff_list = [0]
#space_group_allowed = [14]
#INFERRED molecule_path = ../../single/relaxation/geometry.in.next_step
geometry_format = geometry
molecule_name = ZELDO_4_original
#enantiomer_name = ZELDO_4_enantiomer
ax_variance = [0.6,1.6]
by_variance = [0.6,1.6]
cz_variance = [0.6,1.6]
angle_range = [30,150]
specific_radius_proportion = 0.800
#specific_radius_std = 0.05
#specific_radius_lower_bound = 0.7
COM_dist = 4
NMPC = 4

[structure_generation_batch_vol_estimate]
number_of_attempts = 10000000
number_of_structures = 10
tmp_dir = gen_tmp
output_folder = ./ZELDO_4_volume_estimate # RENAME TO OUTPUT_DIR
struct_id_scheme = ["ZELDO_4_volume_estimate","struct_index"]
output_format = ["json","geometry"]

[relax_batch]
#INFERRED input_dir = str
control_path = str
geometry_format = json
binary_path = /home/trose/aims/fhi-aims.160328_3/bin/aims.160328_3.scalapack.mpi.x
output_dir = str
output_format = ["json"]
tmp_folder = relax_tmp_ZELDO_4
disable_clean_tmp = TRUE
energy_key = energy_fr ; default

[structure_generation]
unit_cell_volume = 513 ; insert here the estimate volume*0.9 - lowerbound
unit_cell_volume_std = 57 ; insert here estimated volume*0.1 - std
unit_cell_volume_upper_bound = 627 ; insert her estimated volume*1.1 - upperbound
chiral_or_racemic = 1 ; 1 stands for racemic, 0 stands for chiral; omit this to allow both
wyckoff_list = [0]
#space_group_allowed = [14]
#INFERRED molecule_path = ../../single/relaxation/geometry.in.next_step
#INFERRED molecule_format = geometry
#INFERRED molecule_name = ZELDO_4_original
#INFERRED enantiomer_name = ZELDO_4_enantiomer
ax_variance = [0.3,2.0]
by_variance = [0.3,2.0]
cz_variance = [0.3,2.0]
angle_range = [30,150]
specific_radius_proportion = 0.85
specific_radius_std = 0.05
specific_radius_lower_bound = 0.8
COM_dist = 4
#INFERRED NMPC = 4

[structure_generation_batch]
number_of_attempts = 10000000
number_of_structures = 5000
tmp_dir = gen_batch_tmp
output_folder = ./ZELDO_4_5000
#INFERRED struct_id_scheme = ["ZELDO_4_","struct_index"]
output_format = ["json","geometry"]

[harris_single_molecule_prep]
#INFERRED molecule_path = ../relaxation/geometry.in.next_step
control_path = /home/trose/genarris_test/genarris/files/controls/harris_prep_control.in
output_dir = ./ZELDO_original
#enantiomer_output_dir = ./ZELDO_enantiomer

[harris_approximation_batch]
#INFERRED molecule_path = ./ZELDO_original/geometry.in
#INFERRED molecule_format = geometry
#full_reverse_napm = 15
#full_reverse_prep_control = /home/trose/genarris_test/genarris/files/controls/harris_prep_control.in
working_dir = ./tmp_he_rerun
#INFERRED structure_dir = /home/trose/genarris_test/species/ZELDO/4mpc/generation/ZELDO_4_5000
structure_dir_copy = TRUE
#INFERRED structure_format = json
structure_output_dir = ./ZELDO_4_he
energy_name = energy_harris
exec_control_path = /home/trose/genarris_test/files/harris_execute_control.in
#INFERRED molecule_harris_folders = ["../../single/single_ha_prep/ZELDO_original","../../single/single_ha_prep/ZELDO_enantiomer"]
#INFERRED molecule_name = ZELDO_original
#INFERRED enantiomer_name = ZELDO_enantiomer
rotations_title = ZELDO_rotations
clean_up = 0

[rcd_vector_calculation]
#INFERRED structure_dir = ../HA/ZELDO_4_he
#INFERRED structure_format = json
axes = [(0,3),(2,8)]
close_picks = 16 ; default
stored_property_key = RCD_vector ; default
NAPM = None ; default
rcd_output_file = ./rcd_vectors.info ; default
output_folder = ./ZELDO_4_5000_he_rcd
output_format = ["json"]

[rcd_difference_folder_inner]
#INFERRED structure_dir = ./ZELDO_4_5000_he_rcd
#INFERRED structure_format = json
stored_property_key = RCD_vector
contribution_ratio = 1 ; default
select_pairs = 8
#disable_enantiomer = TRUE
#diff_list_output = ./rcd_difference_list_step_1.info ;
#diff_matrix_output = ./rcd_difference_matrix_step_1.info ; optional output option

[affinity_propagation_distance_matrix]
#INFERRED structure_dir = ../rcd/ZELDO_4_5000_he_rcd
#INFERRED structure_format = json
#INFERRED dist_mat_input_file = ../rcd/rcd_difference_matrix_diverse_5000_4_nmpc.info
affinity_type = [["exponential",1], ["power",5]]
damping = [0.5, 0.5] ; default
convergence_iter = [25, 25] ; default
max_iter = [200, 200] ; default
percent_of_number_in_previous_pool_to_select = [0.1, 0.1]
stored_property_key = ['AP_cluster_500', 'AP_cluster_50'] ; default
cluster_output_file = ['./AP_cluster_500.info', './AP_cluster_50.info'] ; default
output_folder = ['./ZELDO_5000_he_rcd_cld', './ZELDO_500_he_rcd_cld']
output_format = ['json', 'json']
examplar_output_folder = ['./ZELDO_500_APselected', './ZELDO_500_APselected']
clean_up = 0

[relax_final_batch]
#INFERRED input_dir = str
control_path = str
geometry_format = json
binary_path = /home/trose/aims/fhi-aims.160328_3/bin/aims.160328_3.scalapack.mpi.x
output_dir = str
output_format = ["json"]
tmp_folder = relax_tmp_ZELDO_4_final
disable_clean_tmp = TRUE
energy_key = energy_fr_final ; default

