[Genarris_master]
procedures = ["Relax_Single_Molecule", "Estimate_Unit_Cell_Volume", "Pygenarris_Structure_Generation", "RCD_Calculation", "RCD_Difference_Folder_Inner", "Affinity_Propagation_Fixed_Clusters", "FHI_Aims_Energy_Evaluation", "Affinity_Propagation_Fixed_Clusters", "Run_FHI_Aims_Batch"]
#procedures = ["RCD_Calculation", "RCD_Difference_Folder_Inner", "Affinity_Propagation_Fixed_Clusters", "FHI_Aims_Energy_Evaluation", "Affinity_Propagation_Fixed_Clusters", "Run_FHI_Aims_Batch"]

[relax_single_molecule]
# path to aims control input file
control_path = ../controls/control_relax_single_molecule.in
# output directory path of parent directory where working directories for aims will be placed
aims_output_dir = aims_relaxation_single
molecule_path = ../single_molecule/benzene.in
aims_lib_dir = /home/trose/aims_python_lib/make_sys_intelpython3_full

#Default
## Number of cores (MPI ranks) to run this section with
#num_cores -> all available cores

[estimate_unit_cell_volume]
num_cores = 1
Z = 2
verbose = TRUE

#Inferred
#Gets relaxed path if exists
#molecule_path =

[pygenarris_structure_generation]
# Number of OpenMP Threads to set OMP_NUM_THREADS to for this procedure only
omp_num_threads = 1
num_structures = 50
Z = 2
sr = 0.85
tol = 0.001
max_attempts_per_spg_per_rank = 10000000
geometry_out_filename = benzene_2mpc.out
output_format = json
output_dir = benzene_2mpc_raw_jsons

#Default
#num_replicas = 1
#omp_num_threads = 1
#num_cores = comm.size
#num_structures_per_allowed_SG_per_rank = ceil(num_structures / (num_compatible_spgs * num_cores))
#volume_mean -> replaced by estimate_unit_cell_volume if not specified here
#volume_mean = 156
#volume_std -> replaced by estimate_unit_cell_volume if not specified here
#volume_std = 11.7
#num_structures -> all generated by pygenarris are used
#truncate_to_num_structures = FALSE

#Inferred
#molecule_path = 

[rcd_calculation]
close_picks = 16
property_name = rcd
output_info_file = rcd_vectors.info
output_dir = benzene_2mpc_0_he_rcd
structure_suffix = .json
structure_format = json
output_format = json

#Default
## Number of cores (MPI ranks) to run this section with
#num_cores =

#Inferred
#structure_dir = 

[rcd_difference_folder_inner]
#default 1
#contribution_ratio = 1
#select_pairs = 8
#disable_enantiomer = TRUE
#diff_list_output = ./rcd_difference_list_step_1.info
#diff_matrix_output = rcd_difference_matrix_step_0.info

#structure_suffix = .json
#structure_format = json

#Default
#num_cores = comm.size

# Inferred:
#structure_dir =
#property_name =

[affinity_propagation_fixed_clusters]
num_of_clusters = 10
preference_range = [-1000, 1000]
num_of_clusters_tolerance = 10
max_sampled_preferences = 100
# output_without_success = TRUE ; uncomment to allow clustered pool output even if target num_of_clusters is not hit within tolerance

# Parameters for AP calculation
affinity_type = ["exponential",1]
#affinity_type = ["multiplicative",1000]
damping = 0.5
convergence_iter = 15
max_iter = 1000
energy_name = energy

#default: None, which allows AP to auto-set preference (or use preference_range if specified)
preference = None
property_key = AP_cluster
output_file = ./sample_ap_result.info
exemplars_output_dir = ./sample_structures_exemplars
#json, geometry, both
exemplars_output_format = json
output_format = json
output_dir = ./sample_structures_clustered
structure_suffix = .json
verbose = TRUE
#cluster_on_energy = TRUE

#Round 2
output_file_2 = sample_ap_result_2.info
exemplars_output_dir_2 = sample_structures_exemplars_2
num_of_clusters_2 = 2
output_dir_2 = sample_structures_clustered_2
cluster_on_energy_2 = TRUE

#Default
#num_of_clusters 10%

# Inferred:
#dist_mat_input_file =  
#structure_dir = 

[fhi_aims_energy_evaluation]
# Number of cores (MPI ranks) to run this section with
num_replicas=1
# output directory path of parent directory where working directories for aims will be placed
aims_output_dir = aims_benzene_2mpc_with_energies
output_dir = benzene_2mpc_with_energies
# path to aims control input file
control_path = ../controls/control_scf.in
energy_name = energy

#Default
#num_cores = comm.size

#Inferred
##structure_dir =
#aims_lib_dir =

[run_fhi_aims_batch]
# Number of cores (MPI ranks) to run this section with
num_replicas=1
# output directory path of parent directory where working directories for aims will be placed
aims_output_dir = aims_benzene_2mpc_relaxed
output_dir = benzene_2mpc_relaxed
# path to aims control input file
control_path = ../controls/control_relax_structs.in
energy_name = energy
verbose = TRUE

#Inferred
##structure_dir =
#aims_lib_dir = 

